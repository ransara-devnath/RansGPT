<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>RansGPT - Smart Sinhala AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: "Segoe UI", sans-serif;
      background: linear-gradient(135deg, #2e026d, #0f172a);
      color: #cdd6f4;
}
    h2 {
      text-align: center;
      color: #89b4fa;
      margin-bottom: 10px;
}
    img.avatar {
      width: 100px;
      border-radius: 50%;
      box-shadow: 0 0 20px #8b5cf6;
      animation: pulseGlow 2s infinite, floatUpDown 3s ease-in-out infinite;
      display: block;
      margin: 0 auto 10px;
}
    #chat-box {
      background: #181825;
      border: 1px solid #313244;
      border-radius: 8px;
      height: 350px;
      overflow-y: auto;
      padding: 10px;
      margin-bottom: 10px;
      box-shadow: inset 0 0 10px #7c3aed;
}
.message {
      margin: 6px 0;
      padding: 5px;
      word-break: break-word;
}
.user { color: #f38ba8;}
.bot  { color: #a6e3a1;}
    #input-area {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
}
    input[type="text"], button {
      padding: 10px;
      border-radius: 6px;
      border: none;
      font-size: 16px;
}
    input {
      flex-grow: 1;
      background: #313244;
      color: white;
}
    button {
      background-color: #89b4fa;
      color: #1e1e2e;
      font-weight: bold;
      box-shadow: 0 0 8px #8b5cf6;
      cursor: pointer;
}
    button:hover { background-color: #74c7ec;}
    #footer {
      text-align: center;
      color: #b3b9d4;
      margin-top: 20px;
      font-size: 14px;
}
    @keyframes pulseGlow {
      0%, 100% { box-shadow: 0 0 5px #8b5cf6;}
      50%      { box-shadow: 0 0 25px #8b5cf6;}
}
    @keyframes floatUpDown {
      0%, 100% { transform: translateY(0);}
      50%      { transform: translateY(-5px);}
}
    @media screen and (max-width: 600px) {
      body { padding: 10px;}
      #chat-box { height: 250px; font-size: 14px;}
      input, button { width: 100%; font-size: 14px;}
      #input-area { flex-direction: column;}
}
  </style>
</head>
<body>
  <h2>🤖 Welcome to RansGPT</h2>
  <img src="https://raw.githubusercontent.com/ransara-devnath/Sonic-Ceylon-Official-/refs/heads/main/IMG-20250710-WA0023.jpg" alt="Avatar" class="avatar" />
  <div id="chat-box"></div>
  <div id="input-area">
    <input type="text" id="user-input" placeholder="Type your message..." />
    <button onclick="sendMessage()">Send</button>
  </div>
  <div id="footer">
    🔧 Developed with ❤️ by <strong>Ransara Devnath</strong> | Powered by <strong>RansGPT</strong>
  </div>

  <script>
   const input = document.getElementById("user-input");
    const chatBox = document.getElementById("chat-box");

    input.addEventListener("keypress", e => {
      if (e.key === "Enter") sendMessage();
});

    function sendMessage() {
      const msg = input.value.trim();
      if (!msg) return;
      const lang = detectLang(msg);
      appendMessage("user", msg);
      input.value = "";
      showTyping();
      setTimeout(() => {
        const reply = generateReply(msg.toLowerCase(), lang);
        updateTyping(reply);
}, 800);
}

    function appendMessage(sender, text) {
    const msgDiv = document.createElement("div");
      msgDiv.className = "message " + sender;
      msgDiv.innerText = (sender === "user"? "🧑‍💻 You: ": "🤖 RansGPT: ") + text;
      chatBox.appendChild(msgDiv);
      chatBox.scrollTop = chatBox.scrollHeight;
}

    function showTyping() {
      const msgDiv = document.createElement("div");
      msgDiv.className = "message bot";
      msgDiv.innerText = "🤖 RansGPT is thinking...";
      chatBox.appendChild(msgDiv);
      chatBox.scrollTop = chatBox.scrollHeight;
}

    function updateTyping(text) {
      chatBox.lastChild.innerText = "🤖 RansGPT: " + text;
}

    function detectLang(text) {
      if (/[\u0D80-\u0DFF]/.test(text)) return "si";
      if (/[\u0B80-\u0BFF]/.test(text)) return "ta";
      return "en";
}

    function getIntents(msg) {
      const t = msg.toLowerCase();
      const match = [];
      const creator = ["creator", "who made", "who built", "හදපු", "නිර්මාණය", "உருவாக்கினார்"];
      const greet = ["hi", "hello", "kohomada", "හෙලෝ", "වන්දනාවක්", "வணக்கம்"];
      const nameQ = ["your name", "who are you", "name", "nama", "name කියන්න", "உங்கள் பெயர்"];
      const help = ["help", "can you help", "support", "assist", "උදව්"];
      const mood = ["sad", "lonely", "alone", "duka", "තනිකඩ", "depression"];
      const encrypt = ["encrypt", "security"];
      const decrypt = ["decrypt"];

      if (creator.some(w => t.includes(w))) match.push("creator");
      if (greet.some(w => t.includes(w))) match.push("greet");
      if (nameQ.some(w => t.includes(w))) match.push("name");
      if (help.some(w => t.includes(w))) match.push("help");
      if (mood.some(w => t.includes(w))) match.push("emotion");
      if (encrypt.some(w => t.includes(w))) match.push("encrypt");
      if (decrypt.some(w => t.includes(w))) match.push("decrypt");

      return match;
}

    function generateReply(msg, lang) {
      const intents = getIntents(msg);
      const credit = "\n\n🔧 Site Developer & RansGPT Creator — Ransara Devnath";

      if (intents.includes("encrypt")) {
        const secure = msg.split(":")[1]?.trim();
        return secure? `🔐 Secured text:\n${btoa(secure)}` + credit: "⚠️ Please enter text after `Encrypt:`" + credit;
}

      if (intents.includes("decrypt")) {
        const decode = msg.split(":")[1]?.trim();
        try {
          return `🔓 Decrypted text:\n${atob(decode)}` + credit;
} catch {
          return "⚠️ Invalid encrypted string." + credit;
}
}

      if (intents.includes("greet") && intents.includes("creator")) {
        return lang === "si"? "ආයුබෝවන්! 😊 මාව හැදුවේ Ransara Devnath 🛠️" + credit:
               lang === "ta"? "வணக்கம்! 😊 நான் உருவாக்கப்பட்டது Ransara Devnath 🛠️" + credit:
               "Hello there! 😊 I was created by Ransara Devnath 🛠️" + credit;
}

      if (intents.includes("emotion") && intents.includes("help")) {
        return lang === "si"? "ඔබ තනිකඩයි කියලා මට තේරෙන්නෙ. මම ඔබට මිතුරෙකු වන්නම් 🤗":
               lang === "ta"? "நீங்கள் தனிமையாக இருக்கின்றீர்கள் போல் தெரிகிறது. நான் உங்கள் தோழன் 🤗":
               "You seem down. I'm here to support you 🤗";
}

      // Default fallback reply
      return lang === "si"? "ඔයාගේ message එක රසකතාවක්! බලමු 🔍":
             lang === "ta"? "சுவாரஸ்யமான தகவல்! மேலும் பேசலாம் 🤖":
             "That's interesting! Let's chat more 🧠";
}
  </script>
</body>
</html>